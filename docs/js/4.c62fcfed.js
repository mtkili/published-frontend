(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"42df":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"cols items-left justify-start"},[n("AccountComponent"),n("CurrentPortfolioComponent")],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[n("q-card",{staticClass:"my-card",attrs:{flat:"",bordered:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",[n("img",{attrs:{src:"https://cdn.quasar.dev/img/boy-avatar.png"}})])],1),n("q-item-section",[n("q-item-label",[t._v(t._s(t.fullname))]),n("q-item-label",{attrs:{caption:""}},[t._v("\n          Binance account\n        ")])],1)],1),n("q-separator"),n("q-card-section",{attrs:{horizontal:""}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Total")]),n("div",{staticClass:"text-subtitle2"},[t._v("Euros in your account")]),n("img",{attrs:{src:"cryptocurrency-icons/eur.svg"}})]),n("q-separator",{attrs:{vertical:""}}),n("q-card-section",{staticClass:"col-4"},[n("div",{staticClass:"text-h6"},[t._v(t._s(t.$n(t.totalEuros,"currency","nl-nl")))])])],1),n("q-separator"),n("q-card-section",{attrs:{horizontal:""}},[n("q-card-section",[n("q-btn",{attrs:{flat:"",color:"primary",icon:"list",label:"Tickers",to:"tickers"}}),n("q-btn",{attrs:{flat:"",color:"primary",icon:"style",label:"Portfolio management"}}),n("q-btn",{attrs:{flat:"",color:"negative",icon:"warning",label:"Sell everything"}})],1)],1)],1)],1)},o=[],i={name:"AccountComponent",data(){return{fullname:"",totalEuros:""}},mounted(){this.fullname=localStorage.getItem("fullname"),this.totalEuros=localStorage.getItem("totalEuros")}},c=i,l=n("2877"),u=n("f09f"),d=n("66e5"),p=n("4074"),m=n("cb32"),h=n("0170"),b=n("eb85"),f=n("a370"),v=n("9c40"),g=n("eebe"),q=n.n(g),_=Object(l["a"])(c,r,o,!1,null,null,null),y=_.exports;q()(_,"components",{QCard:u["a"],QItem:d["a"],QItemSection:p["a"],QAvatar:m["a"],QItemLabel:h["a"],QSeparator:b["a"],QCardSection:f["a"],QBtn:v["a"]});var w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{data:t.balanceRows,columns:t.columns,"row-key":"asset",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(e){return[n("div",{staticClass:"col-2 q-table__title"},[t._v("Balance")]),n("q-space"),n("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}})]}},{key:"body",fn:function(e){return[n("q-tr",{attrs:{props:e}},[n("q-td",{key:"asset",attrs:{props:e}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",[n("img",{attrs:{src:"cryptocurrency-icons/"+e.row.asset.toLowerCase()+".svg"}})])],1),n("q-item-section",[n("q-item-label",[t._v(t._s(e.row.asset))]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                  Name of asset\n                ")])],1)],1)],1),n("q-td",{key:"amount",attrs:{props:e}},[t._v("\n            "+t._s(Number(e.row.amount).toFixed(8))+"\n          ")]),n("q-td",{key:"euros",attrs:{props:e}},[t._v("\n            "+t._s(t.$n(e.row.euros,"currency","nl-nl"))+"\n          ")])],1)]}}])}),n("p",{staticClass:"text-grey-6"},[t._v("* Prices calculated on USDT/EUR price "+t._s(Number(t.usdteur).toFixed(4))+" and BTC/USDT price "+t._s(Number(t.btcusdt).toFixed(2))+".")])],1)},C=[],x=n("8d17");const Q=new x["a"];var S={name:"CurrentPortfolioComponent",components:{},methods:{getAccountBalance(){Q.getAccountBalance().then((t=>{localStorage.setItem("totalEuros",t.total_euros),this.balanceRows=t.balances,this.usdteur=t.usdteur,this.btcusdt=t.btcusdt})).catch((t=>console.log(t)))}},mounted:function(){console.log("mounting CurrentPortfolioComponent"),this.getAccountBalance()},data(){return{info:null,balanceRows:[],usdteur:0,btcusdt:0,columns:[{name:"asset",required:!0,label:"Asset",align:"left",sortable:!0,field:"asset",classes:"bg-grey-2 ellipsis"},{name:"amount",align:"right",label:"Number of assets",field:"amount",sortable:!0,style:"max-width: 50px"},{name:"euros",align:"right",label:"Total (euro)",field:"euros",sortable:!0,style:"max-width: 50px"}],pagination:{rowsPerPage:30}}}},k=S,A=n("eaac"),I=n("2c91"),R=n("bd08"),E=n("db86"),P=Object(l["a"])(k,w,C,!1,null,null,null),T=P.exports;q()(P,"components",{QTable:A["a"],QSpace:I["a"],QBtn:v["a"],QTr:R["a"],QTd:E["a"],QItem:d["a"],QItemSection:p["a"],QAvatar:m["a"],QItemLabel:h["a"]});var B=n("a6f4"),j=Object(B["b"])({name:"HomeIndex",components:{AccountComponent:y,CurrentPortfolioComponent:T},data:()=>({})}),z=j,O=n("9989"),$=Object(l["a"])(z,a,s,!1,null,null,null);e["default"]=$.exports;q()($,"components",{QPage:O["a"]})},"8d17":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("bc3a"),s=n.n(a);class r{constructor(t){this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest,this._handleError)},this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleRequest=t=>{t.headers["Access-Control-Allow-Origin"]="*",t.headers["accept"]="application/json";const e=localStorage.getItem("jwt");return e&&(t.headers["Authorization"]=`Bearer ${e}`),t},this._handleResponse=({data:t})=>t,this._handleError=t=>Promise.reject(t),this.instance=s.a.create({baseURL:t}),this._initializeRequestInterceptor(),this._initializeResponseInterceptor()}}var o=function(t,e,n,a){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(a.next(t))}catch(e){r(e)}}function i(t){try{c(a["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,i)}c((a=a.apply(t,e||[])).next())}))};class i extends r{constructor(){super("http://backend.drdevelopment.cloud/api/v1")}login(t,e){return o(this,void 0,void 0,(function*(){const n=new URLSearchParams;n.append("username",t),n.append("password",e);const a={headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*",accept:"application/json"}};return yield this.instance.post("/token",n,a)}))}getStatus(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance")}))}getServerTime(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/servertime")}))}getAccountBalance(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/account/balance")}))}getTickers(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/tickers")}))}}}}]);