(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[363],{5773:(t,e,a)=>{"use strict";a.d(e,{z:()=>l});var n=a(52),o=a.n(n);class s{constructor(t){this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest,this._handleError)},this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleRequest=t=>{t.headers["Access-Control-Allow-Origin"]="*",t.headers["accept"]="application/json";const e=localStorage.getItem("jwt");return e&&(t.headers["Authorization"]=`Bearer ${e}`),t},this._handleResponse=({data:t})=>t,this._handleError=t=>Promise.reject(t),this.instance=o().create({baseURL:t}),console.log(`API backend will be reached on: ${t}`),this._initializeRequestInterceptor(),this._initializeResponseInterceptor()}}var r=function(t,e,a,n){function o(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,s){function r(t){try{c(n.next(t))}catch(e){s(e)}}function l(t){try{c(n["throw"](t))}catch(e){s(e)}}function c(t){t.done?a(t.value):o(t.value).then(r,l)}c((n=n.apply(t,e||[])).next())}))};class l extends s{constructor(){super("https://backend.drdevelopment.cloud/api/v1")}login(t,e){return r(this,void 0,void 0,(function*(){const a=new URLSearchParams;a.append("username",t),a.append("password",e);const n={headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*",accept:"application/json"}};return yield this.instance.post("/token",a,n)}))}getStatus(){return r(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/")}))}getServerTime(){return r(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/servertime")}))}getAccountBalance(){return r(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/account/balance")}))}getTickers(){return r(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/tickers")}))}}},2363:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>F});var n=a(3673);function o(t,e,a,o,s,r){const l=(0,n.up)("AccountComponent"),c=(0,n.up)("CurrentPortfolioComponent"),i=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(i,{class:"cols items-left justify-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(l),(0,n.Wm)(c)])),_:1})}var s=a(2323);const r={class:"q-pa-md col-xs-12 col-sm-6 col-md-4"},l=(0,n.Wm)("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),c=(0,n.Uk)(" Binance account "),i=(0,n.Wm)("div",{class:"text-h6"},"Total",-1),u=(0,n.Wm)("div",{class:"text-subtitle2"},"Euros in your account",-1),d=(0,n.Wm)("img",{src:"cryptocurrency-icons/eur.svg"},null,-1),m={class:"text-h6"};function p(t,e,a,o,p,h){const f=(0,n.up)("q-avatar"),w=(0,n.up)("q-item-section"),g=(0,n.up)("q-item-label"),b=(0,n.up)("q-item"),v=(0,n.up)("q-separator"),W=(0,n.up)("q-card-section"),_=(0,n.up)("q-btn"),q=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)("div",r,[(0,n.Wm)(q,{class:"my-card",flat:"",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[l])),_:1})])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(p.fullname),1)])),_:1}),(0,n.Wm)(g,{caption:""},{default:(0,n.w5)((()=>[c])),_:1})])),_:1})])),_:1}),(0,n.Wm)(v),(0,n.Wm)(W,{horizontal:""},{default:(0,n.w5)((()=>[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[i,u,d])),_:1}),(0,n.Wm)(v,{vertical:""}),(0,n.Wm)(W,{class:"col-4"},{default:(0,n.w5)((()=>[(0,n.Wm)("div",m,(0,s.zw)(t.$n(p.totalEuros,"currency","nl-NL")),1)])),_:1})])),_:1}),(0,n.Wm)(v),(0,n.Wm)(W,{horizontal:""},{default:(0,n.w5)((()=>[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{flat:"",color:"primary",icon:"list",label:"Tickers",to:"tickers"})])),_:1})])),_:1})])),_:1})])}const h={name:"AccountComponent",data(){return{fullname:"",totalEuros:0}},mounted(){this.fullname=localStorage.getItem("fullname"),this.totalEuros=Number(localStorage.getItem("totalEuros"))}};var f=a(151),w=a(6332),g=a(2035),b=a(5096),v=a(2350),W=a(5869),_=a(5589),q=a(8240),y=a(7518),k=a.n(y);h.render=p;const C=h;k()(h,"components",{QCard:f.Z,QItem:w.Z,QItemSection:g.Z,QAvatar:b.Z,QItemLabel:v.Z,QSeparator:W.Z,QCardSection:_.Z,QBtn:q.Z});const x={class:"q-pa-md"},z=(0,n.Wm)("div",{class:"col-2 q-table__title"},"Balance",-1),Z={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},A=(0,n.Uk)("     "),Q={class:"text-grey-6"};function I(t,e,a,o,r,l){const c=(0,n.up)("q-space"),i=(0,n.up)("q-toggle"),u=(0,n.up)("q-avatar"),d=(0,n.up)("q-item-section"),m=(0,n.up)("q-item-label"),p=(0,n.up)("q-card-section"),h=(0,n.up)("q-card"),f=(0,n.up)("q-table"),w=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)("div",x,[(0,n.Wm)(f,{grid:"",rows:r.balanceRows,columns:r.columns,pagination:r.pagination,filter:l.filter,"filter-method":l.customFilter,"row-key":"asset"},{top:(0,n.w5)((()=>[z,(0,n.Wm)(c),(0,n.Wm)(i,{label:"Dust/favorites",modelValue:r.hasData,"onUpdate:modelValue":e[1]||(e[1]=t=>r.hasData=t)},null,8,["modelValue"])])),item:(0,n.w5)((e=>[(0,n.Wm)("div",Z,[(0,n.wy)((0,n.Wm)(h,{class:"my-card",flat:"",bordered:"",clickable:"",onClick:t=>l.clickAsset(e.row.asset)},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{horizontal:"",class:"col-8"},{default:(0,n.w5)((()=>[A,(0,n.Wm)(d,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)("img",{src:"cryptocurrency-icons/"+e.row.asset.toLowerCase()+".svg"},null,8,["src"])])),_:2},1024)])),_:2},1024),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.row.asset),1)])),_:2},1024),(0,n.Wm)(m,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.row.name),1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(p,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(t.$n(e.row.euros,"currency","nl-NL")),1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(p,{class:"col-8"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{align:"right",caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)("# "+(0,s.zw)(Number(e.row.amount).toFixed(8)),1)])),_:2},1024),(0,n.Wm)(m,{align:"right",caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)("% "+(0,s.zw)(e.row.euro_perc),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),[[w]])])])),_:1},8,["rows","columns","pagination","filter","filter-method"]),(0,n.Wm)("p",Q,"* Prices calculated on USDT/EUR price "+(0,s.zw)(Number(r.usdteur).toFixed(4))+" and BTC/USDT price "+(0,s.zw)(Number(r.btcusdt).toFixed(2))+".",1)])}var R=a(5773),S=a(1959);const U=new R.z,P={name:"CurrentPortfolioComponent",components:{},setup(){return{selected:(0,S.iH)([])}},methods:{getAccountBalance(){U.getAccountBalance().then((t=>{localStorage.setItem("totalEuros",t.total_euros),this.balanceRows=t.balances,this.usdteur=t.usdteur,this.btcusdt=t.btcusdt})).catch((t=>console.log(t)))},customFilter(t,e){const a=this.hasData?0:10;return t.filter((t=>t.euros>a))},clickAsset:function(t){this.$router.push({name:"orders",params:{asset:t}})}},computed:{filter(){return{hasData:this.hasData}}},mounted:function(){console.log("mounting CurrentPortfolioComponent"),this.getAccountBalance()},data(){return{info:null,balanceRows:[],usdteur:0,btcusdt:0,hasData:!1,columns:[{name:"asset",required:!0,label:"Asset",align:"left",sortable:!0,field:"asset",classes:"bg-grey-2 ellipsis"},{name:"euros",align:"right",label:"Total (euro)",field:"euros",sortable:!0,style:"max-width: 50px"},{name:"amount",align:"right",label:"Number of assets",field:"amount",sortable:!0,style:"max-width: 50px"}],pagination:{rowsPerPage:30}}}};var T=a(352),E=a(2025),B=a(8886),D=a(6489);P.render=I;const j=P;k()(P,"components",{QTable:T.Z,QSpace:E.Z,QToggle:B.Z,QCard:f.Z,QCardSection:_.Z,QItemSection:g.Z,QAvatar:b.Z,QItemLabel:v.Z}),k()(P,"directives",{Ripple:D.Z});const L=(0,n.aZ)({name:"HomeIndex",components:{AccountComponent:C,CurrentPortfolioComponent:j},data:()=>({})});var N=a(4379);L.render=o;const F=L;k()(L,"components",{QPage:N.Z})}}]);