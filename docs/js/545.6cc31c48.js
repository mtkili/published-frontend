(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[545],{5773:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var s=n(52),r=n.n(s);class a{constructor(e){this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest,this._handleError)},this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleRequest=e=>{e.headers["Access-Control-Allow-Origin"]="*",e.headers["accept"]="application/json";const t=localStorage.getItem("jwt");return t&&(e.headers["Authorization"]=`Bearer ${t}`),e},this._handleResponse=({data:e})=>e,this._handleError=e=>Promise.reject(e),this.instance=r().create({baseURL:e}),this._initializeRequestInterceptor(),this._initializeResponseInterceptor()}}var o=function(e,t,n,s){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{l(s.next(e))}catch(t){a(t)}}function i(e){try{l(s["throw"](e))}catch(t){a(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,i)}l((s=s.apply(e,t||[])).next())}))};class i extends a{constructor(){super("http://localhost:8086/api/v1")}login(e,t){return o(this,void 0,void 0,(function*(){const n=new URLSearchParams;n.append("username",e),n.append("password",t);const s={headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*",accept:"application/json"}};return yield this.instance.post("/token",n,s)}))}getStatus(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance")}))}getServerTime(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/servertime")}))}getAccountBalance(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/account/balance")}))}getTickers(){return o(this,void 0,void 0,(function*(){return yield this.instance.get("/binance/tickers")}))}}},1545:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var s=n(3673),r=n(2323),a=n(8880);const o={class:"column"},i=(0,s.Wm)("div",{class:"row"},[(0,s.Wm)("h5",{class:"text-h5 text-white q-my-md"},"Welcome to Trading App!")],-1),l={class:"row"},c={class:"text-white"},u=(0,s.Wm)("p",{class:"text-grey-6"},"Please login with your credentials.",-1);function d(e,t,n,d,p,h){const m=(0,s.up)("q-card-section"),w=(0,s.up)("q-input"),g=(0,s.up)("q-form"),f=(0,s.up)("q-btn"),v=(0,s.up)("q-card-actions"),q=(0,s.up)("q-card"),b=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(b,{class:"bg-orange window-height window-width row justify-center items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)("div",o,[i,(0,s.Wm)("div",l,[(0,s.Wm)(q,{square:"",bordered:"",class:"q-pa-lg shadow-1"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)("div",null,[(0,s.Wm)(m,{class:"bg-info text-center q-pa-none"},{default:(0,s.w5)((()=>[(0,s.Wm)("p",c,(0,r.zw)(e.errorMessage),1)])),_:1})],512),[[a.F8,""!==e.errorMessage]]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{square:"",filled:"",clearable:"",modelValue:e.form.username,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.username=t),label:"username"},null,8,["modelValue"]),(0,s.Wm)(w,{square:"",filled:"",clearable:"",modelValue:e.form.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.password=t),type:"password",label:"password"},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(v,{class:"q-px-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{unelevated:"",color:"secondary",size:"lg",class:"full-width",label:"Login",onClick:e.handleSubmit},null,8,["onClick"])])),_:1}),(0,s.Wm)(m,{class:"text-center q-pa-none"},{default:(0,s.w5)((()=>[u])),_:1})])),_:1})])])])),_:1})}var p=n(5773),h=n(51);const m=new p.z,w=(0,s.aZ)({name:"LoginIndex",components:{},data:()=>({form:{username:"",password:""},errorMessage:""}),mounted:function(){console.log("Clear localstorage."),localStorage.clear()},methods:{handleSubmit(){this.errorMessage="",this.form.password.length>0?m.login(this.form.username,this.form.password).then((e=>{console.log("Succesfully logged in!"),localStorage.setItem("jwt",e.access_token);const t=(0,h.Z)(e.access_token),n=t.fullname;localStorage.setItem("fullname",n),this.$router.push("/")})).catch((e=>{401==e.response.status?this.errorMessage="Wrong username and password!":this.errorMessage=e})):this.errorMessage="Username and password can not be empty!"}}});var g=n(4379),f=n(151),v=n(5589),q=n(5269),b=n(4842),_=n(9367),y=n(8240),W=n(7518),x=n.n(W);w.render=d;const k=w;x()(w,"components",{QPage:g.Z,QCard:f.Z,QCardSection:v.Z,QForm:q.Z,QInput:b.Z,QCardActions:_.Z,QBtn:y.Z})}}]);